(this["webpackJsonpsocial-machine-ux"]=this["webpackJsonpsocial-machine-ux"]||[]).push([[0],{16:function(e,t){e.exports={expire:function(e){return e?Date.now()<e:null}}},33:function(e,t,a){e.exports=a.p+"static/media/logo.dd1c45a4.png"},37:function(e,t,a){e.exports=a.p+"static/media/Social Machine.ffcfad7b.svg"},39:function(e,t,a){e.exports=a(70)},44:function(e,t,a){},63:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(31),c=a.n(s),o=(a(44),a(38)),l=a(3),i=a(6),u=a.n(i),h=a(18),m=a.n(h),p=a(32),d=a(10),g=a(11),v=a(13),E=a(12),f=a(14),b=a(33),k=a.n(b),w=a(34),j=a.n(w),N=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(v.a)(this,Object(E.a)(t).call(this,e))).state={},a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement(j.a,{appId:"502524423931075",fields:"name,email,picture",callback:this.props.onClick,buttin:this,auth:this.props.auth,SameSite:"None",redirectUri:"http://localhost:3000/dashboard"})}}]),t}(r.a.Component),S=a(16),x=a.n(S),O=a(8),C=a.n(O),y=(a(63),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(v.a)(this,Object(E.a)(t).call(this,e))).state={button:N,hasError:!1,redirect:!1,jwt:null},a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"onClick",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post("http://localhost:7777/api/v1/auth/login",{token:t.accessToken});case 3:(a=e.sent)||this.auth.setState({hasError:!0}),u.a.set("jwt",a.data.jwt,{expires:a.data.jwt.expiresIn}),console.log(u.a.get("jwt")),this.auth.setState({redirect:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.auth.setState({hasError:!0});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){var e=u.a.get("jwt")?JSON.parse(u.a.get("jwt")):null;if(console.log(e),e&&x.a.expire(e.expiresIn))return r.a.createElement(l.a,{to:"/dashboard"});if(this.state.hasError)return r.a.createElement("h1",null,"Error");if(this.state.redirect)return r.a.createElement(l.a,{to:"/dashboard"});var t=this.state.error?"error":"hidden";return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:k.a,className:"App-logo",alt:"logo"}),r.a.createElement(this.state.button,{onClick:this.onClick,auth:this}),r.a.createElement("p",{className:t},"Some error with auth")),r.a.createElement("div",null,"123123123"))}}]),t}(r.a.Component)),G=(a(69),a(37)),I=a.n(G),J=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(v.a)(this,Object(E.a)(t).call(this,e))).state={password:"",jwt:u.a.get("jwt"),user:null,groups:null,targetGroupId:null,targetGroup:null},a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"execute",value:function(e){var t=this;if(e.password){var a={pass:e.password,idGroup:e.targetGroupId};C.a.post("http://localhost:7777/api/v1/execute",a,{headers:{accesstoken:JSON.parse(this.state.jwt).accessToken}}).then((function(e){return console.log(e),t.setState({exec:e})}))}else console.log("password required animation")}},{key:"componentDidMount",value:function(){var e=this;!this.state.user&&C.a.get("http://localhost:7777/api/v1/user",{headers:{accesstoken:JSON.parse(this.state.jwt).accessToken}}).then((function(t){return e.setState({user:t})}))}},{key:"componentDidUpdate",value:function(){var e=this;!this.state.groups&&C.a.get("http://localhost:7777/api/v1/user/groups",{headers:{accesstoken:JSON.parse(this.state.jwt).accessToken}}).then((function(t){return e.setState({groups:t})})),!this.state.targetGroup&&this.state.targetGroupId&&C.a.get("http://localhost:7777/api/v1/user/groups/".concat(this.state.targetGroupId),{headers:{accesstoken:JSON.parse(this.state.jwt).accessToken}}).then((function(t){return e.setState({targetGroup:t})}))}},{key:"render",value:function(){var e=this;if(!this.state.jwt||x.a.expire(JSON.parse(this.state.jwt)))return r.a.createElement(l.a,{to:"/"});var t=this.state.user?this.state.user.data:null,a=this.state.groups?this.state.groups.data:null,n=this.state.targetGroup?this.state.targetGroup.data:null;return console.log("grp:",n),console.log(this.state),r.a.createElement("div",{className:"block"},r.a.createElement("header",null,r.a.createElement("div",{className:"navContainer"},r.a.createElement("nav",null,r.a.createElement("a",{href:"/dashboard"},"Dashboard"),r.a.createElement("a",{href:"/dashboard"},"element2"),r.a.createElement("a",{href:"/dashboard"},"element3"),r.a.createElement("a",{href:"/"},"element4"))),r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:I.a,alt:"logo"}))),r.a.createElement("section",null,r.a.createElement("div",{className:"userContent"},r.a.createElement("div",{className:"picture"},r.a.createElement("img",{src:t&&t.picture,alt:"fb_foto"})),r.a.createElement("div",{className:"name"},r.a.createElement("p",null,t&&t.name)),r.a.createElement("div",{className:"email"},r.a.createElement("p",null,t&&t.email)),r.a.createElement("div",{className:"pass"},r.a.createElement("label",null,"password: ",r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){e.setState({password:t.target.value})}}))),r.a.createElement("div",{className:"logout",onClick:function(){u.a.remove("jwt"),e.setState({jwt:null})}},"logout")),!this.state.targetGroupId&&r.a.createElement("div",{className:"mainContent",style:{overflowY:"scroll",height:"90vh"}},a&&a.map((function(t){var a=t.cover.source;return r.a.createElement("div",{className:"general",key:t.id.toString(),onClick:function(){return e.setState({targetGroupId:t.id})}},r.a.createElement("div",{className:"groupContent",style:{backgroundImage:"url(".concat(a,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"}}),r.a.createElement("div",{className:"animation"},r.a.createElement("div",{className:"title"},t.name)))}))),this.state.targetGroupId&&r.a.createElement("div",{className:"targetContent"},r.a.createElement("div",{className:"back",onClick:function(){return e.setState({targetGroupId:null,targetGroup:null})}},"<"),this.state.targetGroup&&r.a.createElement("div",{className:"targetGroup"},r.a.createElement("div",{className:"target",style:{backgroundImage:"url(".concat(n.cover.source,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}},r.a.createElement("p",{className:"title"},n.name),r.a.createElement("p",{className:"desc"},n.description)),r.a.createElement("div",{className:"exec",onClick:function(){return e.execute(e.state)},style:{cursor:"pointer"}},"Exexution"))),this.state.exec&&r.a.createElement("div",null,this.state.exec.data)))}}]),t}(r.a.Component);var D=function(){return(u.a.get("jwt")?JSON.parse(u.a.get("jwt")):null)?r.a.createElement(J,null):r.a.createElement(y,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement((function(){return r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/"},r.a.createElement(D,null)),r.a.createElement(l.b,{path:"/auth"},r.a.createElement(y,null)),r.a.createElement(l.b,{path:"/dashboard"},r.a.createElement(J,null)))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[39,1,2]]]);